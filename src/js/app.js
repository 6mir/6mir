function srcimageqr(e){imageqr.src=e,body.classList.add("overflow-hidden"),qrmain.classList.remove("hidden"),setTimeout(()=>{qrcode.classList.remove("scale-0")},10);const t="./src/picture/error/img.png",n=document.getElementById("loader");imageqr.src=imageqr.src||t,imageqr.onload=function(){imageqr.classList.remove("hidden"),n.classList.add("hidden")},imageqr.onerror=function(){imageqr.src=t}}function hiddenbox(){body.classList.remove("overflow-hidden"),qrmain.classList.add("hidden"),qrcode.classList.add("scale-0"),imageqr.classList.add("hidden"),qrloader.classList.remove("hidden")}function btnproje(){modal.classList.remove("hidden"),body.classList.add("overflow-hidden"),setTimeout(()=>{modal.querySelector("div").classList.remove("scale-0"),modal.querySelector("div").classList.add("scale-100")},10)}function copyToClipboard(e){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).then(()=>showFeedback());else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),showFeedback()}}function showFeedback(){const e=document.getElementById("copyFeedback");e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("hidden")},1e3)}function showLanguageModal(e){const t=e.closest("[data-languages]").getAttribute("data-languages").split(","),n=document.getElementById("languageList");n.innerHTML="",t.forEach(e=>{const t=document.createElement("li");t.textContent=e,n.appendChild(t)}),languageModal.classList.remove("hidden"),body.classList.add("overflow-hidden")}function closeLanguageModal(){languageModal.classList.add("hidden"),body.classList.remove("overflow-hidden")}function showmenu(){menu.classList.remove("-right-96"),menu.classList.add("right-0"),overlay.classList.remove("hidden"),body.classList.add("overflow-hidden"),overlay.addEventListener("click",hiddenmenu)}function hiddenmenu(){menu.classList.add("-right-96"),menu.classList.remove("right-0"),overlay.classList.add("hidden"),body.classList.remove("overflow-hidden"),overlay.removeEventListener("click",hiddenmenu)}const toggleThemeBtn=document.querySelector("#toggle-theme");toggleThemeBtn.addEventListener("click",()=>{"dark"===localStorage.theme?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"))});const userPreferredTheme=localStorage.theme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"===userPreferredTheme?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),window.addEventListener("contextmenu",e=>{e.preventDefault()}),window.addEventListener("keydown",e=>{e.preventDefault()});const totop=document.getElementById("topsite");window.addEventListener("scroll",function(){window.scrollY>150?(totop.classList.remove("-bottom-20"),totop.classList.add("bottom-3")):(totop.classList.add("-bottom-20"),totop.classList.remove("bottom-3"))});const progrss=document.getElementById("tolbar");window.addEventListener("scroll",()=>{const e=window.scrollY,t=document.documentElement.scrollHeight-window.innerHeight,n=e/t*100;progrss.style.width=`${n}%`});const body=document.querySelector("body"),qrmain=document.getElementById("boxqrcode"),imageqr=document.getElementById("imgqr"),closeqrcode=document.getElementById("closeqrcode"),qrcode=document.getElementById("qrcode"),qrloader=document.getElementById("loader");closeqrcode.addEventListener("click",function(){hiddenbox()}),qrmain.addEventListener("click",function(e){qrcode.contains(e.target)||hiddenbox()});const modal=document.getElementById("project-modal"),closeModal=document.getElementById("close-modal"),exitConfirmation=document.getElementById("exit-confirmation"),confirmExit=document.getElementById("confirm-exit"),cancelExit=document.getElementById("cancel-exit");closeModal.addEventListener("click",()=>{exitConfirmation.classList.remove("hidden"),setTimeout(()=>{exitConfirmation.classList.remove("-top-[999px]"),exitConfirmation.classList.add("top-0")},10)}),confirmExit.addEventListener("click",()=>{modal.classList.add("hidden"),exitConfirmation.classList.add("hidden"),body.classList.remove("overflow-hidden"),modal.querySelector("div").classList.add("scale-0"),modal.querySelector("div").classList.remove("scale-100"),setTimeout(()=>{exitConfirmation.classList.remove("top-0"),exitConfirmation.classList.add("-top-[999px]")},10)}),cancelExit.addEventListener("click",()=>{exitConfirmation.classList.add("hidden"),setTimeout(()=>{exitConfirmation.classList.remove("top-0"),exitConfirmation.classList.add("-top-[999px]")},10)}),document.getElementById("filter").addEventListener("change",function(){const e=this.value;document.querySelectorAll(".project > article").forEach(t=>{"all"===e||t.getAttribute("data-category")===e?(t.classList.remove("hidden"),t.classList.add("aos-animate")):t.classList.add("hidden")})}),window.addEventListener("load",function(){document.getElementById("mainbody").classList.remove("hidden"),document.getElementById("loadbody").style.display="none",AOS.init({duration:500,easing:"ease-in-out",once:!0})});const languageModal=document.getElementById("languageModal"),boxlanguageModal=document.getElementById("boxlanguageModal");languageModal.addEventListener("click",function(e){boxlanguageModal.contains(e.target)||closeLanguageModal()});const projectContainer=document.querySelector(".project"),handleImageLoading=(e,t)=>{const n="./src/picture/error/img.png";e.onload=(()=>{e.classList.remove("hidden"),t.classList.add("hidden")}),e.onerror=(()=>{e.src=n}),e.complete&&e.onload()},dataFile="./src/js/data.json";fetch(dataFile).then(e=>e.json()).then(e=>{e.cards.forEach(e=>{const t=document.createElement("article");t.setAttribute("data-category",e.category),t.setAttribute("data-aos","zoom-in-down"),t.setAttribute("data-languages",e.languages.join(",")),t.className="block flex-[4_4_20%] min-w-60 max-w-80 bg-gray-50 dark:bg-gray-800 shadow-normal dark:shadow-normaldark p-3 rounded-lg",t.innerHTML=`\n               <!-- image -->\n             <div class="w-full aspect-video rounded-lg overflow-hidden relative -top-10">\n             <a href="${e.websiteUrl}" target="_blank" rel="noopener noreferrer">\n                 <img class="imglod size-full hidden hover:scale-105 transform transition duration-200 delay-75"\n                     src="${e.image}" alt="${e.title}">\n                 <div\n                     class="loaderlod flex items-center justify-center animate-pulse size-full bg-gray-300 dark:bg-gray-700">\n                     <svg class="size-14 md:size-20 text-gray-200 dark:text-gray-600">\n                         <use href="#loaderimg"></use>\n                     </svg>\n                 </div>\n             </a>\n             </div\n             <!-- title and description -->\n              <div class=" block -mt-6">\n                      <h2\n                         class="font-BoldFt text-lg md:text-xl line-clamp-1 mb-1 -tracking-normal text-gray-800 dark:text-gray-100 hover:before:bg-green-400 dark:hover:before:bg-green-800 before:content-normal before:size-2.5  md:before:size-3 before:bg-orange-400 before:dark:bg-orange-800 before:inline-block md:before:ml-px before:rounded-l-full before:transition before:duration-200">\n                        <a href="${e.websiteUrl}" target="_blank" rel="noopener noreferrer">\n                         ${e.title}\n                        </a>\n                      </h2>\n                      <h3\n                        class="text-gray-600 dark:text-gray-300 text-sm md:text-base line-clamp-2 h-11">\n                        ${e.description}\n                     </h3>\n                    </div> \n\n\n             <!-- btn time and qrcode -->\n             <div class="flex justify-between items-center text-gray-500 dark:text-gray-400 mt-6 mb-3">\n             <time class="flex items-center gap-1">\n                 <svg class="size-6 stroke-current stroke-2">\n                     <use href="#time"></use>\n                 </svg>\n                 <span class="text-sm">تاریخ ساخت: ${e.date}</span>\n             </time>\n             <button onclick="srcimageqr('${e.qrCodeImage}')" class="bg-transparent">\n                 <svg\n                     class="size-7 stroke-[1.4px] hover:text-gray-700 hover:dark:text-gray-200 transition duration-200">\n                     <use href="#qr"></use>\n                 </svg>\n             </button>\n             </div>\n             <!-- btn copy and languages -->\n             <div class="flex justify-between mb-3 text-gray-500 dark:text-gray-400">\n             <div onclick="showLanguageModal(this)"\n                 class="flex items-center gap-1 cursor-pointer hover:text-gray-700 hover:dark:text-gray-200 transition duration-200">\n                 <svg class="size-6 stroke-[0.7px] stroke-current">\n                     <use href="#zabans"></use>\n                 </svg>\n                 <p class="text-base">زبان‌های استفاده‌شده</p>\n             </div>\n             <button onclick="copyToClipboard('${e.websiteUrl}')"\n                 class="flex items-center justify-center bg-transparent">\n                 <svg\n                     class="size-8 stroke-[1.5px] stroke-current hover:stroke-gray-700 hover:dark:stroke-gray-200 duration-200  fill-none">\n                     <use href="#copy"></use>\n                 </svg>\n             </button>\n             </div>\n             <span\n             class="w-full h-px block bg-neutral-200/70 dark:bg-white/10 shadow-normal dark:shadow-normaldark my-2 rounded-full"></span>\n             <!-- btn view website -->\n             <a href="${e.websiteUrl}" target="_blank" rel="noopener noreferrer"\n             class="linkweb dark:hover:text-gray-200 text-base md:text-lg dark:text-blue-400 text-blue-500 hover:text-gray-700 flex items-center w-max mx-auto font-BoldFt transition duration-200 delay-75">\n             <p>مشاهده وب‌سایت</p>\n             <svg class="size-6 fill-current">\n                 <use href="#arowleft"></use>\n             </svg>\n             </a>\n `,projectContainer.appendChild(t);const n=t.querySelector(".imglod"),o=t.querySelector(".loaderlod");handleImageLoading(n,o)})}).catch(e=>console.error("خطا در بارگذاری داده‌ها:",e));const menu=document.getElementById("menubox"),menuas=document.querySelectorAll("#menubox a ,#menubox button"),overlay=document.getElementById("overlay");menuas.forEach(e=>{e.addEventListener("click",function(){hiddenmenu()})}),fetch("./src/js/data.json").then(e=>e.json()).then(e=>{const{phone:t,email:n,telegram:o,instagram:a,github:r}=e.socialLinks;document.querySelectorAll(".telegram-link").forEach(e=>{e.href=o}),document.querySelectorAll(".instagram-link").forEach(e=>{e.href=a}),document.querySelectorAll(".email-link").forEach(e=>{e.href=`mailto:${n}`}),document.querySelectorAll(".phone-link").forEach(e=>{e.href=`tel:${t}`}),document.querySelectorAll(".github-link").forEach(e=>{e.href=r})}).catch(e=>console.error("Error loading JSON:",e));